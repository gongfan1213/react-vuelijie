> ğŸ’­ å—¯ï¼Œç”¨æˆ·åˆšæ‰é—®åˆ°äº†â€œhooksé™åˆ¶â€ã€‚æˆ‘éœ€è¦å…ˆå¼„æ¸…æ¥šä»–ä»¬åœ¨é—®ä»€ä¹ˆæ–¹é¢çš„hooksé™åˆ¶ã€‚é€šå¸¸æ¥è¯´ï¼Œhookså¯èƒ½æŒ‡çš„æ˜¯React Hooksæˆ–è€…Git Hooksï¼Œæˆ–è€…ç”šè‡³å…¶ä»–æ¡†æ¶ä¸­çš„ç±»ä¼¼æ¦‚å¿µï¼Œæ¯”å¦‚Vue 3çš„Composition APIã€‚æˆ‘éœ€è¦å…ˆç¡®å®šä¸Šä¸‹æ–‡ã€‚
>
> é¦–å…ˆï¼ŒæŸ¥çœ‹ç”¨æˆ·çš„å†å²å¯¹è¯ã€‚ä¹‹å‰çš„å¯¹è¯æ˜¯å…³äºpnpmçš„åŸç†å’Œä¼˜åŠ¿ï¼Œç”¨æˆ·ä¼¼ä¹å¯¹å‰ç«¯å·¥å…·é“¾å’ŒåŒ…ç®¡ç†å·¥å…·æ„Ÿå…´è¶£ã€‚ä¸è¿‡éšåç”¨æˆ·æåˆ°â€œhooksé™åˆ¶â€ï¼Œæ‰€ä»¥å¯èƒ½çš„ä¸¤ç§ä¸»è¦æƒ…å†µæ˜¯React Hooksçš„é™åˆ¶ï¼Œæˆ–è€…æ˜¯Git Hooksåœ¨ä½¿ç”¨ä¸­çš„ä¸€äº›é™åˆ¶ï¼Œå°¤å…¶æ˜¯åœ¨pnpmæˆ–Monorepoç¯å¢ƒä¸­çš„Git Hooksé…ç½®é—®é¢˜ã€‚ä¹Ÿå¯èƒ½æ˜¯åœ¨ä½¿ç”¨å…¶ä»–å·¥å…·æ—¶çš„hooksé™åˆ¶ï¼Œæ¯”å¦‚åœ¨æäº¤ä»£ç æ—¶çš„é’©å­é™åˆ¶ã€‚ä½†React Hooksçš„å¯èƒ½æ€§æ›´å¤§ï¼Œå› ä¸ºè¿™æ˜¯å‰ç«¯å¼€å‘ä¸­çš„å¸¸è§è¯é¢˜ã€‚
>
> å‡è®¾ç”¨æˆ·çš„é—®é¢˜æ˜¯å…³äºReact Hooksçš„é™åˆ¶ï¼Œæˆ‘éœ€è¦å›å¿†React Hooksçš„ä½¿ç”¨è§„åˆ™å’Œå¸¸è§é—®é¢˜ã€‚React Hooksçš„é™åˆ¶åŒ…æ‹¬åªèƒ½åœ¨å‡½æ•°ç»„ä»¶æˆ–è‡ªå®šä¹‰Hookä¸­ä½¿ç”¨ï¼Œä¸èƒ½åœ¨ç±»ç»„ä»¶æˆ–æ™®é€šJavaScriptå‡½æ•°ä¸­ä½¿ç”¨ã€‚å¦å¤–ï¼ŒHookså¿…é¡»åœ¨é¡¶å±‚è°ƒç”¨ï¼Œä¸èƒ½åœ¨æ¡ä»¶ã€å¾ªç¯æˆ–åµŒå¥—å‡½æ•°ä¸­è°ƒç”¨ã€‚è¿™äº›éƒ½æ˜¯Reactå®˜æ–¹æ–‡æ¡£ä¸­å¼ºè°ƒçš„è§„åˆ™ï¼Œä½¿ç”¨ESLintæ’ä»¶ï¼ˆå¦‚eslint-plugin-react-hooksï¼‰å¯ä»¥å¸®åŠ©å¼€å‘è€…éµå¾ªè¿™äº›è§„åˆ™ã€‚
>
> ä½†æ˜¯ï¼Œç”¨æˆ·çš„é—®é¢˜å¯èƒ½æ˜¯å…³äºè¿™äº›é™åˆ¶çš„æ·±å±‚åŸå› ï¼Œæˆ–è€…å¦‚ä½•å…‹æœè¿™äº›é™åˆ¶ï¼Œæˆ–è€…ä»–ä»¬åœ¨å®é™…å¼€å‘ä¸­é‡åˆ°çš„å…·ä½“é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œæœ‰äº›å¼€å‘è€…å¯èƒ½ä¼šå°è¯•åœ¨æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨Hooksï¼Œå¯¼è‡´çŠ¶æ€æ··ä¹±æˆ–é”™è¯¯ï¼Œå¦‚ä½•è§£å†³è¿™ç±»é—®é¢˜ã€‚æˆ–è€…æ˜¯å¦æœ‰ä¸€äº›Hooksçš„è®¾è®¡å±€é™ï¼Œå¦‚useEffectçš„ä¾èµ–é¡¹å¤„ç†é—®é¢˜ï¼Œé—­åŒ…é™·é˜±ç­‰ã€‚å¯èƒ½ç”¨æˆ·åœ¨ä½¿ç”¨Hooksæ—¶é‡åˆ°äº†å›°éš¾ï¼Œæƒ³è¦äº†è§£è¿™äº›é™åˆ¶çš„åŸå› å’Œåº”å¯¹æ–¹æ³•ã€‚
>
> å¦å¤–ï¼Œä¹Ÿæœ‰å¯èƒ½ç”¨æˆ·æŒ‡çš„æ˜¯å…¶ä»–ç±»å‹çš„é’©å­ï¼Œä¾‹å¦‚åœ¨pnpmçš„æµç¨‹ä¸­æ˜¯å¦æœ‰é’©å­çš„é™åˆ¶ã€‚ä¾‹å¦‚ï¼Œpnpmåœ¨æ‰§è¡Œinstallæ—¶æ˜¯å¦æ”¯æŒpre/postè„šæœ¬ï¼Œæˆ–è€…åœ¨Monorepoä¸­ä½¿ç”¨é’©å­æ˜¯å¦æœ‰ç‰¹åˆ«é™åˆ¶ã€‚ä¸è¿‡è¿™ç§æƒ…å†µå¯èƒ½æ€§è¾ƒä½ï¼Œä½†ä¹Ÿä¸èƒ½å®Œå…¨æ’é™¤ã€‚
>
> ä¸ºäº†ç¡®è®¤ç”¨æˆ·çš„å…·ä½“é—®é¢˜ï¼Œå¯èƒ½éœ€è¦è¿›ä¸€æ­¥è¯¢é—®ï¼Œä½†ç”±äºç”¨æˆ·åªç”¨äº†ä¸€ä¸ªè¯â€œhooksé™åˆ¶â€ï¼Œéœ€è¦åŸºäºå¸¸è§æƒ…å†µè¿›è¡Œæ¨æ–­ã€‚
>
> å¦‚æœæ˜¯React Hooksçš„é™åˆ¶ï¼Œå›ç­”éœ€è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ç‚¹ï¼š
>
> 1. Hooksçš„è°ƒç”¨è§„åˆ™ï¼šå¿…é¡»åœ¨é¡¶å±‚è°ƒç”¨ï¼Œä¸èƒ½åœ¨æ¡ä»¶æˆ–å¾ªç¯ä¸­ã€‚
>
> 2. åªèƒ½åœ¨Reactå‡½æ•°ç»„ä»¶æˆ–è‡ªå®šä¹‰Hooksä¸­ä½¿ç”¨ã€‚
>
> 3. é—­åŒ…å¸¦æ¥çš„è¿‡æ—¶çŠ¶æ€é—®é¢˜ï¼Œå¦‚ä½•æ­£ç¡®ä½¿ç”¨ä¾èµ–æ•°ç»„ã€‚
>
> 4. useEffectçš„æ¸…ç†æœºåˆ¶å’Œæ½œåœ¨çš„å†…å­˜æ³„æ¼ã€‚
>
> å¦å¤–ï¼Œè¿˜éœ€è¦è§£é‡Šè¿™äº›é™åˆ¶èƒŒåçš„åŸå› ï¼Œæ¯”å¦‚Reactå¦‚ä½•ä¾èµ–è°ƒç”¨é¡ºåºæ¥ç®¡ç†çŠ¶æ€ï¼Œä»¥åŠä¸ºä»€ä¹ˆä¸èƒ½åœ¨æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨Hooksï¼Œä»¥åŠå¦‚ä½•é€šè¿‡è‡ªå®šä¹‰Hooksæˆ–å…¶ä»–æ¨¡å¼æ¥è§„é¿è¿™äº›é™åˆ¶ã€‚å¯èƒ½è¿˜éœ€è¦ä¸¾ä¾‹è¯´æ˜å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆã€‚
>
> åŒæ—¶ï¼Œç”¨æˆ·å¯èƒ½é‡åˆ°çš„å›°éš¾åŒ…æ‹¬å¦‚ä½•ç»„ç»‡å¤æ‚çš„ç»„ä»¶é€»è¾‘ï¼Œé¿å…Hooksçš„æ»¥ç”¨ï¼Œä»¥åŠHooksä¹‹é—´çš„ä¾èµ–ç®¡ç†ã€‚ä¾‹å¦‚ï¼Œå¦‚ä½•å¤„ç†å¤šä¸ªuseEffectä¹‹é—´çš„æ‰§è¡Œé¡ºåºï¼Œæˆ–å¦‚ä½•åˆ†è§£é€»è¾‘åˆ°å¤šä¸ªè‡ªå®šä¹‰Hooksä¸­ã€‚æ­¤å¤–ï¼Œå¯èƒ½ä¼šæåˆ°useCallbackå’ŒuseMemoçš„ä¼˜åŒ–æŠ€å·§ï¼Œä»¥åŠå®ƒä»¬çš„ä½¿ç”¨åœºæ™¯å’Œé™åˆ¶ã€‚
>
> å¦ä¸€æ–¹é¢ï¼Œå¦‚æœæ˜¯Git Hooksçš„é™åˆ¶ï¼Œä¾‹å¦‚åœ¨ä½¿ç”¨pnpm workspaceæ—¶ï¼ŒGité’©å­å¦‚ä½•é…ç½®ï¼Œæˆ–è€…æŸäº›å·¥å…·ï¼ˆå¦‚Huskyï¼‰åœ¨Monorepoä¸­çš„ä½¿ç”¨é™åˆ¶ï¼Œå¯èƒ½éœ€è¦ä¸åŒçš„è§£ç­”ã€‚ä¾‹å¦‚ï¼Œåœ¨Monorepoç»“æ„ä¸­ï¼Œå¦‚ä½•ç®¡ç†å¤šä¸ªé¡¹ç›®çš„Git Hooksï¼Œä»¥åŠåœ¨å®‰è£…ä¾èµ–æ—¶çš„æƒé™æˆ–è·¯å¾„é—®é¢˜ã€‚
>
> æ­¤æ—¶éœ€è¦è¿›ä¸€æ­¥æ€è€ƒç”¨æˆ·å¯èƒ½çš„èƒŒæ™¯ã€‚ç”¨æˆ·ä¹‹å‰è¯¢é—®çš„æ˜¯pnpmï¼Œä¹‹åè½¬å‘Hooksé™åˆ¶ï¼Œå› è€Œå¯èƒ½æ˜¯åœ¨ä½¿ç”¨æŸäº›å·¥å…·æ—¶é‡åˆ°çš„é’©å­é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œpnpmæ˜¯å¦ä¼šå½±å“Git Hooksçš„å®‰è£…ï¼Œæˆ–è€…åœ¨ä½¿ç”¨æŸäº›æ¡†æ¶æ—¶ï¼ŒHooksçš„ä½¿ç”¨å—åˆ°ç¯å¢ƒé™åˆ¶ã€‚ä¹Ÿæœ‰å¯èƒ½ç”¨æˆ·æ˜¯åœ¨ä½¿ç”¨è‡ªå®šä¹‰çš„åŒ…å¤„ç†æµç¨‹ä¸­é‡åˆ°äº†é’©å­çš„è°ƒç”¨é—®é¢˜ã€‚
>
> å¯èƒ½éœ€è¦è¯¢é—®ç”¨æˆ·å…·ä½“çš„ä¸Šä¸‹æ–‡ï¼Œä½†ç”±äºå¤„äºå•è½®å¯¹è¯ä¸­ï¼Œæˆ‘éœ€è¦æ ¹æ®ç°æœ‰ä¿¡æ¯ä½œå‡ºæœ€ä½³çŒœæµ‹ã€‚
>
> è‹¥å°†ä¸¤è€…ç»“åˆï¼Œå¯èƒ½ç”¨æˆ·åœ¨ä½¿ç”¨pnpmç®¡ç†çš„Monorepoé¡¹ç›®ä¸­ï¼Œé‡åˆ°äº†React Hooksçš„ä½¿ç”¨é™åˆ¶ï¼Œæˆ–è€…åœ¨é¡¹ç›®æ¶æ„ä¸­å› ä¸ºåŒ…ç®¡ç†æ–¹å¼ä¸åŒè€Œå¯¼è‡´çš„æŸäº›Hooksç›¸å…³é—®é¢˜ã€‚
>
> ä½†æ˜¯æœ€åˆç†çš„åˆ¤æ–­è¿˜æ˜¯ç”¨æˆ·è¯¢é—®çš„æ˜¯React Hooksæœ¬èº«çš„é™åˆ¶ï¼Œå› æ­¤éœ€è¦é’ˆå¯¹è¿™ä¸€ç‚¹å±•å¼€å›ç­”ã€‚
>
> éœ€è¯¦ç»†åˆ—ä¸¾React Hooksçš„ä¸»è¦é™åˆ¶ï¼Œè§£é‡Šè¿™äº›é™åˆ¶å¸¦æ¥çš„å½±å“ï¼Œå¹¶ç»™å‡ºè§£å†³æ–¹æ¡ˆæˆ–æœ€ä½³å®è·µã€‚ä¾‹å¦‚ï¼š
>
> - ä¸ºä»€ä¹ˆä¸èƒ½åœ¨æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨Hookï¼Ÿå› ä¸ºReactä¾èµ–è°ƒç”¨é¡ºåºæ¥è¿½è¸ªçŠ¶æ€ã€‚
>
> - é—­åŒ…é™·é˜±å¦‚ä½•å‘ç”Ÿï¼Ÿå¦‚ä½•é€šè¿‡æ­£ç¡®ä½¿ç”¨ä¾èµ–æ•°ç»„æˆ–refæ¥é¿å…ã€‚
>
> - Hooksä¹‹é—´çš„ä¾èµ–ç®¡ç†ï¼Œå¦‚ä½•æ‹†åˆ†é€»è¾‘ï¼Œä½¿ç”¨è‡ªå®šä¹‰Hooksã€‚
>
> - å¦‚ä½•ä¼˜åŒ–æ€§èƒ½ï¼Œé¿å…ä¸å¿…è¦çš„æ¸²æŸ“ï¼Œæ­£ç¡®ä½¿ç”¨useMemoå’ŒuseCallbackã€‚
>
> - ä½¿ç”¨eslint-plugin-react-hooksç¡®ä¿è§„åˆ™éµå®ˆã€‚
>
> æ­¤å¤–ï¼Œéœ€è¦å¯¹æ¯”ç±»ç»„ä»¶å’ŒHooksçš„å·®å¼‚ï¼Œè¯´æ˜Hooksçš„é™åˆ¶å¦‚ä½•å½±å“äº†ä»£ç ç»“æ„ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡å…¶ä»–æ¨¡å¼ï¼ˆå¦‚çŠ¶æ€ç®¡ç†åº“ï¼‰æ¥è¾…åŠ©ã€‚
>
> æœ€åï¼Œå¯èƒ½è¿˜éœ€è¦æåˆ°ç¤¾åŒºä¸­å¸¸è§çš„è¯¯åŒºï¼Œå¦‚è¿‡åº¦ä½¿ç”¨Hookså¯¼è‡´çš„ç»„ä»¶å¤æ‚åŒ–ï¼Œä»¥åŠå¦‚ä½•ç»„ç»‡ä»£ç ç»“æ„æ¥ä¿æŒå¯ç»´æŠ¤æ€§ã€‚
>
> 



---

### React Hooks çš„é™åˆ¶ä¸è§£å†³æ–¹æ¡ˆè¯¦è§£

React Hooks é€šè¿‡ç®€åŒ–çŠ¶æ€å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œå½»åº•æ”¹å˜äº†ç»„ä»¶çš„ç¼–å†™æ–¹å¼ã€‚ä½†å› å…¶è®¾è®¡ç†å¿µï¼Œå¼€å‘è€…éœ€ç‰¹åˆ«æ³¨æ„ä»¥ä¸‹ **æ ¸å¿ƒé™åˆ¶åŠåº”å¯¹ç­–ç•¥**ï¼š

---

#### **ä¸€ã€å¼ºåˆ¶è°ƒç”¨é¡ºåºï¼šHooks çš„â€œä¸å¯å˜è§„åˆ™â€**
**é™åˆ¶è¡¨ç°**ï¼š  
- Hooks **å¿…é¡»åœ¨å‡½æ•°ç»„ä»¶çš„é¡¶å±‚è°ƒç”¨**ï¼Œä¸èƒ½åœ¨æ¡ä»¶ã€å¾ªç¯æˆ–åµŒå¥—å‡½æ•°ä¸­ä½¿ç”¨ã€‚
- **ç›´æ¥æŠ¥é”™ç¤ºä¾‹**ï¼š
  ```jsx
  if (isMobile) {
    useEffect(() => { /* ... */ }, []); // âŒ é”™è¯¯ï¼šHooks å¿…é¡»æ— æ¡ä»¶è°ƒç”¨
  }
  ```

**åº•å±‚åŸç†**ï¼š  
React **å†…éƒ¨ä¾èµ–è°ƒç”¨é¡ºåº**æ¥å”¯ä¸€æ ‡è¯†æ¯ä¸ª Hookï¼Œè‹¥é¡ºåºå˜åŒ–ä¼šå¯¼è‡´çŠ¶æ€é”™ä¹±ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š  
1. **è§„åˆ™ä¸å¯ç ´ï¼Œæ”¹ç”¨æ¡ä»¶å†…é€»è¾‘æ§åˆ¶**ï¼š  
   ```jsx
   useEffect(() => {
     if (isMobile) {
       // æ¡ä»¶å†…æ‰§è¡Œä¸šåŠ¡é€»è¾‘
     }
   }, [isMobile]); // âœ… ä¾èµ–é¡¹æ§åˆ¶æ‰§è¡Œ
   ```

2. **é€»è¾‘æ‹†åˆ†ä¸ºç‹¬ç«‹ç»„ä»¶**ï¼š  
   ```jsx
   function MobileComponent() {
     useEffect(() => { /* ... */ }, []);
     return <div>Mobile UI</div>;
   }

   function DesktopComponent() { /* ... */ }

   function App() {
     return isMobile ? <MobileComponent /> : <DesktopComponent />; // âœ… é€šè¿‡ç»„ä»¶æ‹†åˆ†å®ç°æ¡ä»¶æ¸²æŸ“
   }
   ```

---

#### **äºŒã€é—­åŒ…é™·é˜±ï¼šè¿‡æœŸçŠ¶æ€ä¸å‰¯ä½œç”¨**
**é™åˆ¶åœºæ™¯**ï¼š  
- Hooks çš„å›è°ƒå‡½æ•°ï¼ˆå¦‚ `useEffect`ã€`useCallback`ï¼‰**æ•è·å®šä¹‰æ—¶çš„é—­åŒ…æ•°æ®**ï¼Œå¯èƒ½è®¿é—®åˆ°è¿‡æœŸçŠ¶æ€ã€‚
- **ç»å…¸ Bug å¤ç°**ï¼š
  ```jsx
  function Counter() {
    const [count, setCount] = useState(0);

    useEffect(() => {
      const timer = setInterval(() => {
        console.log(count); // âŒ å§‹ç»ˆè¾“å‡º 0ï¼ˆé—­åŒ…é™·é˜±ï¼‰
      }, 1000);
      return () => clearInterval(timer);
    }, []); // ç©ºä¾èµ–é¡¹ï¼šä»…åœ¨æŒ‚è½½æ—¶åˆ›å»ºå®šæ—¶å™¨

    return <button onClick={() => setCount(c => c + 1)}>+1</button>;
  }
  ```

**è§£å†³æ–¹æ³•**ï¼š  
1. **æ­£ç¡®å£°æ˜ä¾èµ–é¡¹**ï¼šç›´æ¥ä¾èµ–å˜é‡åŠ å…¥ `useEffect` æ•°ç»„ã€‚
   ```jsx
   useEffect(() => {
     const timer = setInterval(() => {
       console.log(count); // âœ… å®æ—¶è·å–æœ€æ–° count å€¼
     }, 1000);
     return () => clearInterval(timer);
   }, [count]); // å£°æ˜ count ä¾èµ–
   ```

2. **ä½¿ç”¨ `useRef` çªç ´é—­åŒ…**ï¼š  
   ```jsx
   function Counter() {
     const [count, setCount] = useState(0);
     const countRef = useRef(count);
     countRef.current = count; // å®æ—¶åŒæ­¥æœ€æ–°å€¼

     useEffect(() => {
       const timer = setInterval(() => {
         console.log(countRef.current); // âœ… é€šè¿‡ ref è·å–å®æ—¶å€¼
       }, 1000);
       return () => clearInterval(timer);
     }, []);

     return <button onClick={() => setCount(c => c + 1)}>+1</button>;
   }
   ```

---

#### **ä¸‰ã€å¤æ‚çŠ¶æ€ç®¡ç†ï¼šå¤šçŠ¶æ€æ›´æ–°ç«äº‰**
**é™åˆ¶åœºæ™¯**ï¼š  
- å¤šä¸ªå¼‚æ­¥æ“ä½œåŒæ—¶æ›´æ–°åŒä¸€çŠ¶æ€æ—¶ï¼Œå¯èƒ½å¯¼è‡´ **çŠ¶æ€è¦†ç›–æˆ–ä¸ä¸€è‡´**ã€‚
- **ç«æ€æ¡ä»¶ç¤ºä¾‹**ï¼ˆæ•°æ®è¯·æ±‚ï¼‰ï¼š
  ```jsx
  function UserProfile({ userId }) {
    const [user, setUser] = useState(null);

    useEffect(() => {
      fetchUser(userId).then(data => setUser(data));
    }, [userId]); // å½“ userId å¿«é€Ÿå˜åŒ–æ—¶ï¼Œæ—§è¯·æ±‚å¯èƒ½è¦†ç›–æ–°ç»“æœ
  }
  ```

**è§£å†³æ–¹æ¡ˆ**ï¼š  
1. **ä½¿ç”¨æ¸…ç†å‡½æ•°ä¸¢å¼ƒè¿‡æœŸè¯·æ±‚**ï¼š  
   ```jsx
   useEffect(() => {
     let isActive = true; // æ ‡å¿—ä½æ§åˆ¶æœ‰æ•ˆæ€§
     fetchUser(userId).then(data => {
       if (isActive) setUser(data);
     });

     return () => {
       isActive = false; // æ¸…ç†å‡½æ•°ä¸­æ ‡è®°è¯·æ±‚å¤±æ•ˆ
     };
   }, [userId]);
   ```

2. **ç»“åˆ `AbortController` ç»ˆæ­¢è¯·æ±‚**ï¼š  
   ```jsx
   useEffect(() => {
     const abortController = new AbortController();
     fetchUser(userId, { signal: abortController.signal })
       .then(data => setUser(data))
       .catch(err => {
         if (err.name !== 'AbortError') console.error(err);
       });

     return () => abortController.abort();
   }, [userId]);
   ```

---

#### **å››ã€æ€§èƒ½ä¼˜åŒ–ï¼šéå¿…è¦æ¸²æŸ“ä¸é‡å¤è®¡ç®—**
**é™åˆ¶åœºæ™¯**ï¼š  
- é¢‘ç¹çŠ¶æ€å˜åŒ–å¯¼è‡´å­ç»„ä»¶ **æ— æ„ä¹‰é‡æ¸²æŸ“**ã€‚
- é«˜å¼€é”€è®¡ç®—ï¼ˆå¦‚å¤§å‹åˆ—è¡¨å¤„ç†ï¼‰**é‡å¤æ‰§è¡Œ**ã€‚

**ä¼˜åŒ–ç­–ç•¥**ï¼š
1. **`React.memo` + `useCallback` å‡å°‘å­ç»„ä»¶æ¸²æŸ“**ï¼š  
   ```jsx
   const ExpensiveComponent = React.memo(({ onClick }) => {
     // ä»…å½“ onClick å˜åŒ–æ—¶é‡æ¸²æŸ“
     return <button onClick={onClick}>Click Me</button>;
   });

   function Parent() {
     const [count, setCount] = useState(0);
     const handleClick = useCallback(() => {
       setCount(c => c + 1);
     }, []); // âœ… è®°å¿†åŒ–å›è°ƒå‡½æ•°

     return <ExpensiveComponent onClick={handleClick} />;
   }
   ```

2. **`useMemo` ç¼“å­˜è®¡ç®—ç»“æœ**ï¼š  
   ```jsx
   function DataGrid({ data }) {
     const processedData = useMemo(() => {
       return data.map(item => ({
         ...item,
         total: item.price * item.quantity,
       }));
     }, [data]); // ä»…å½“ data å˜åŒ–æ—¶é‡æ–°è®¡ç®—

     return <Table data={processedData} />;
   }
   ```

---

#### **äº”ã€è‡ªå®šä¹‰ Hook çš„å°è£…è¾¹ç•Œ**
**é™åˆ¶åœºæ™¯**ï¼š  
- é”™è¯¯çš„å°è£…å¯¼è‡´ **Hooks åµŒå¥—é¡ºåºç ´å** æˆ– **çŠ¶æ€é€»è¾‘æ³„éœ²**ã€‚

**æœ€ä½³å®è·µ**ï¼š  
1. **ä»¥ `use` å¼€å¤´å‘½åè‡ªå®šä¹‰ Hook**ï¼šéµå®ˆ React çš„è§„åˆ™ã€‚
   ```jsx
   function useToggle(initialState = false) {
     const [state, setState] = useState(initialState);
     const toggle = () => setState(s => !s);
     return [state, toggle]; // è¿”å›çŠ¶æ€ä¸æ“ä½œæ–¹æ³•
   }
   ```

2. **ç¡®ä¿è‡ªå®šä¹‰ Hook çš„ç‹¬ç«‹æ€§**ï¼šæ¯ä¸ªè°ƒç”¨å¤„ **æ‹¥æœ‰ç‹¬ç«‹çŠ¶æ€**ã€‚  
   ```jsx
   function App() {
     const [isMenuOpen, toggleMenu] = useToggle(); // ç»„ä»¶Açš„çŠ¶æ€
     const [isModalOpen, toggleModal] = useToggle(); // ç»„ä»¶Bçš„çŠ¶æ€ï¼ˆäº’ä¸å¹²æ‰°ï¼‰
     // ...
   }
   ```

---

### **æ€»ç»“ï¼šè§„é¿é™åˆ¶çš„æŠ€æœ¯å›¾è°±**
| é™åˆ¶ç±»å‹                   | å·¥å…·/æ¨¡å¼                  | å…³é”®æŠ€æœ¯ç‚¹                            |
|--------------------------|---------------------------|--------------------------------------|
| **è°ƒç”¨é¡ºåºé™åˆ¶**          | ç»„ä»¶æ‹†åˆ†                  | å°†æ¡ä»¶æ¸²æŸ“æ‹†åˆ†ä¸ºç‹¬ç«‹ç»„ä»¶                |
| **é—­åŒ…é™·é˜±**              | `useRef` + ä¾èµ–é¡¹å£°æ˜     | åŒæ­¥æœ€æ–°çŠ¶æ€ï¼Œç²¾ç¡®ä¾èµ–è¿½è¸ª               |
| **ç«æ€æ¡ä»¶**              | æ¸…ç†å‡½æ•° + AbortController| æ§åˆ¶å¼‚æ­¥å‰¯ä½œç”¨ç”Ÿå‘½å‘¨æœŸ                   |
| **æ€§èƒ½æ¶ˆè€—**              | `memo` + `useMemo`        | ç»„ä»¶è®°å¿†åŒ–ä¸è®¡ç®—ç¼“å­˜                     |
| **é€»è¾‘å¤ç”¨**              | è‡ªå®šä¹‰ Hook               | åŸå­åŒ–çŠ¶æ€é€»è¾‘å°è£…                      |

é€šè¿‡ç†è§£ React Hooks çš„è®¾è®¡çº¦æŸå¹¶é‡‡ç”¨å¯¹åº”ç­–ç•¥ï¼Œå¼€å‘è€…èƒ½é«˜æ•ˆè§„é¿æ½œåœ¨ç¼ºé™·ï¼Œæ„å»ºé«˜å¯ç»´æŠ¤æ€§çš„ç°ä»£ç»„ä»¶æ¶æ„ã€‚
