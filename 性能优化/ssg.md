> ğŸ’­ å—¯ï¼Œç”¨æˆ·ä¹‹å‰é—®è¿‡æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ï¼Œç°åœ¨åˆé—®é™æ€ç«™ç‚¹ç”Ÿæˆï¼ˆSSGï¼‰ï¼Œä»–ä»¬å¯¹ä¸åŒçš„æ¸²æŸ“æ¨¡å¼æ„Ÿå…´è¶£ï¼Œå¯èƒ½åœ¨å¯»æ‰¾æœ€ä½³è§£å†³æ–¹æ¡ˆã€‚æˆ‘è¦å…ˆç†æ¸…SSGçš„åŸºæœ¬æ¦‚å¿µï¼Œå’ŒSSRçš„åŒºåˆ«åœ¨å“ªé‡Œã€‚ç”¨æˆ·å¯èƒ½æ˜¯åœ¨åšé¡¹ç›®ä¼˜åŒ–ï¼Œå…³å¿ƒSEOæˆ–è€…æ€§èƒ½é—®é¢˜ï¼Œä»–ä»¬å¯èƒ½æƒ³çŸ¥é“ä»€ä¹ˆæ—¶å€™ç”¨SSGæ›´åˆé€‚ã€‚
>
> é¦–å…ˆï¼Œç”¨æˆ·çŸ¥é“SSRæ˜¯åœ¨æœåŠ¡ç«¯ç”ŸæˆHTMLï¼Œè€ŒSSGæ˜¯åœ¨æ„å»ºæ—¶ç”Ÿæˆé™æ€HTMLæ–‡ä»¶ã€‚éœ€è¦è§£é‡Šä¸ºä»€ä¹ˆSSGæ›´å¿«ï¼Œå› ä¸ºå®ƒä¸éœ€è¦æ¯æ¬¡è¯·æ±‚éƒ½å¤„ç†ï¼Œç›´æ¥æ‰˜ç®¡åœ¨CDNä¸Šï¼ŒåŠ è½½é€Ÿåº¦æå¿«ã€‚ä½†é€‚ç”¨åœºæ™¯æœ‰é™ï¼Œé€‚åˆå†…å®¹å˜åŒ–ä¸é¢‘ç¹çš„æƒ…å†µï¼Œæ¯”å¦‚åšå®¢ã€æ–‡æ¡£ç«™ç‚¹ã€‚
>
> ç”¨æˆ·å¯èƒ½å…³å¿ƒSSGçš„å…·ä½“å·¥ä½œæµç¨‹ï¼Œéœ€è¦è¯¦ç»†æ­¥éª¤ï¼Œæ¯”å¦‚æ„å»ºé˜¶æ®µã€é¢„æ¸²æŸ“ã€éƒ¨ç½²åˆ°CDNç­‰ã€‚æœ€å¥½ä¸¾ä¾‹è¯´æ˜ï¼Œæ¯”å¦‚ç”¨Next.jsçš„getStaticPropsï¼Œæˆ–è€…Gatsbyçš„æ•°æ®æ‹‰å–æ–¹å¼ã€‚åŒæ—¶ï¼Œå¯¹æ¯”SSRï¼Œå¯èƒ½ç”¨æˆ·ä¸æ¸…æ¥šä»€ä¹ˆæ—¶å€™è¯¥ç”¨å“ªä¸€ä¸ªï¼Œéœ€è¦ç»™å‡ºå†³ç­–æ ‘æˆ–è€…å¯¹æ¯”è¡¨æ ¼ã€‚
>
> å¦å¤–ï¼ŒæŠ€æœ¯å®ç°éƒ¨åˆ†ï¼Œæ¥ä¸‹æ¥éœ€è¦æåˆ°ä¸»æµæ¡†æ¶çš„æ”¯æŒï¼Œæ¯”å¦‚Next.jsã€Gatsbyã€Nuxtç­‰ï¼Œè®©ç”¨æˆ·çŸ¥é“å¦‚ä½•å…·ä½“å®æ–½ã€‚è¿˜æœ‰å¢é‡é™æ€å†ç”Ÿï¼ˆISRï¼‰ï¼Œæ¯”å¦‚Next.jsçš„revalidateé€‰é¡¹ï¼Œè¿™ä¸ªåŠŸèƒ½è®©SSGä¹Ÿèƒ½å¤„ç†é¢‘ç¹æ›´æ–°çš„å†…å®¹ï¼Œå¯èƒ½æ˜¯ç”¨æˆ·ä¸çŸ¥é“çš„ç‚¹ï¼Œåº”è¯¥è¯¦ç»†è¯´æ˜ã€‚
>
> æ€§èƒ½ä¼˜åŒ–æ–¹é¢ï¼ŒCDNç¼“å­˜ã€èµ„æºé¢„åŠ è½½æ˜¯å…³é”®ç‚¹ï¼Œéœ€è¦ä¸¾ä¾‹è¯´æ˜å¦‚ä½•é…ç½®ç¼“å­˜å¤´ï¼Œæˆ–è€…ç”¨å·¥å…·ä¼˜åŒ–å›¾ç‰‡ç­‰é™æ€èµ„æºã€‚å¯èƒ½è¿˜è¦æåˆ°é¢„æ¸²æŸ“åŠ¨æ€è·¯ç”±ï¼Œæ¯”å¦‚åŠ¨æ€é¡µé¢çš„ç”Ÿæˆï¼Œå¦‚ä½•å¤„ç†å¤§é‡é¡µé¢çš„æƒ…å†µï¼Œé¿å…æ„å»ºæ—¶é—´è¿‡é•¿ã€‚
>
> ç”¨æˆ·å¯èƒ½é‡åˆ°çš„é—®é¢˜åŒ…æ‹¬æ•°æ®æ›´æ–°ä¸åŠæ—¶ï¼Œè¿™æ—¶å€™éœ€è¦è§£é‡ŠISRæˆ–è€…åŠ¨æ€å®¢æˆ·ç«¯è·å–çš„ç»“åˆä½¿ç”¨ã€‚æ­¤å¤–ï¼ŒSEOä¼˜åŠ¿æ–¹é¢ï¼Œè¦å¼ºè°ƒé™æ€å†…å®¹å®¹æ˜“è¢«çˆ¬è™«æŠ“å–ï¼Œæå‡æ’åã€‚ä½†æ˜¯åŠ¨æ€å†…å®¹å¦‚ä½•å¤„ç†ï¼Ÿå¯èƒ½éœ€è¦æ··åˆä½¿ç”¨SSGå’ŒCSRï¼Œæˆ–è€…SSRã€‚
>
> æœ€åï¼Œç»™å‡ºå®é™…æ¡ˆä¾‹ï¼Œæ¯”å¦‚åšå®¢ä½¿ç”¨SSGåçš„æ€§èƒ½æ•°æ®ï¼Œå“ªäº›å…¬å¸é‡‡ç”¨äº†æ­¤æ–¹æ¡ˆï¼Œå¢å¼ºè¯´æœåŠ›ã€‚è¿˜è¦å±•æœ›æœªæ¥è¶‹åŠ¿ï¼Œæ¯”å¦‚è¾¹ç¼˜è®¡ç®—å¯¹SSGçš„å½±å“ï¼Œæˆ–è€…æ›´æ™ºèƒ½çš„æ„å»ºç­–ç•¥ï¼Œè®©ç”¨æˆ·äº†è§£æŠ€æœ¯å‘å±•çš„æ–¹å‘ã€‚
>
> ç”¨æˆ·å¯èƒ½è¿˜æƒ³çŸ¥é“ç»´æŠ¤SSGç«™ç‚¹çš„éš¾åº¦ï¼Œæ¯”å¦‚å†…å®¹æ›´æ–°æµç¨‹ï¼Œæ˜¯å¦éœ€è¦é‡æ–°æ„å»ºï¼Œè‡ªåŠ¨åŒ–éƒ¨ç½²çš„å¯èƒ½æ€§ã€‚è¿™äº›éœ€è¦ç®€è¦æåŠï¼Œå¼•å¯¼ç”¨æˆ·æ ¹æ®é¡¹ç›®éœ€æ±‚é€‰æ‹©åˆé€‚æ–¹æ¡ˆã€‚
>
> 



é™æ€ç«™ç‚¹ç”Ÿæˆï¼ˆStatic Site Generationï¼ŒSSGï¼‰æ˜¯ä¸€ç§åœ¨**æ„å»ºé˜¶æ®µ**é¢„å…ˆç”Ÿæˆå®Œæ•´HTMLé¡µé¢çš„æŠ€æœ¯ï¼Œå°†åŠ¨æ€å†…å®¹è½¬åŒ–ä¸ºé™æ€æ–‡ä»¶ã€‚ä¸éœ€è¦å®æ—¶æ¸²æŸ“çš„SSRä¸åŒï¼ŒSSGç”Ÿæˆçš„é¡µé¢èƒ½ç›´æ¥é€šè¿‡CDNæé€Ÿåˆ†å‘ï¼Œæˆä¸ºå†…å®¹å‹ç«™ç‚¹çš„æ€§èƒ½åˆ©å™¨ã€‚

---

### â–SSG æ ¸å¿ƒå·¥ä½œæœºåˆ¶å‰–æ  
#### 1. å…¨æµç¨‹æ¶æ„ï¼ˆä»¥Next.jsä¸ºä¾‹ï¼‰  
```bash  
# å…¸å‹SSGå·¥ä½œæµ  
[1] ä»£ç æ„å»º â†’ è°ƒç”¨getStaticPaths/getStaticProps â†’ ç”ŸæˆHTML/CSS/JS  
[2] è¾“å‡ºç»“æœ â†’ /outç›®å½•ï¼ˆåŒ…å«æ‰€æœ‰é™æ€èµ„æºï¼‰  
[3] éƒ¨ç½² â†’ ä¸Šä¼ è‡³CDNï¼ˆå¦‚AWS S3ã€Vercelï¼‰  
[4] è®¿é—®è¯·æ±‚ â†’ CDNç›´æ¥è¿”å›é¢„æ¸²æŸ“æ–‡ä»¶ï¼ˆæ— æœåŠ¡ç«¯è®¡ç®—ï¼‰  
```

#### 2. å…³é”®ä»£ç å®ç°  
```js  
// å®šä¹‰åŠ¨æ€è·¯ç”±éœ€è¦ç”Ÿæˆçš„è·¯å¾„  
export async function getStaticPaths() {  
  const res = await fetch('https://api/posts');  
  const posts = await res.json();  

  const paths = posts.map(post => ({  
    params: { id: post.id.toString() }  
  }));  

  return { paths, fallback: 'blocking' };  
}  

// è·å–å•ä¸ªé¡µé¢çš„æ•°æ®  
export async function getStaticProps({ params }) {  
  const post = await getPostById(params.id);  
  return { props: { post }, revalidate: 3600 }; // ISRé…ç½®  
}  

// é¡µé¢ç»„ä»¶  
export default function Post({ post }) {  
  return <article>{post.content}</article>;  
}  
```  
**è¯´æ˜**ï¼š  
- `fallback: 'blocking'`å…è®¸å¯¹æœªé¢„ç”Ÿæˆçš„è·¯å¾„æŒ‰éœ€ç”Ÿæˆ  
- `revalidate: 3600`å¯ç”¨ISRï¼ˆå¢é‡é™æ€å†ç”Ÿï¼‰ï¼Œæ¯1å°æ—¶æ›´æ–°  

---

### â–SSG é€‚ç”¨åœºæ™¯ä¸å†³ç­–æ¨¡å‹  
#### 1. é»„é‡‘ä½¿ç”¨åœºæ™¯  
| ç±»å‹                | å…¸å‹æ¡ˆä¾‹                          | ä¼˜åŠ¿å±•ç°                 |  
|---------------------|-----------------------------------|-------------------------|  
| å†…å®¹å‹ç½‘ç«™          | åšå®¢ï¼ˆå¦‚GitHub Pages+Jekyllï¼‰     | å…¨çƒCDNåŠ é€Ÿï¼ŒåŠ è½½<0.5s  |  
| äº§å“æ–‡æ¡£            | Stripeæ–‡æ¡£ç«™ã€Next.jså®˜æ–¹æ–‡æ¡£     | ç‰ˆæœ¬åŒ–å†…å®¹æ›´æ–°ç®¡ç†ä¾¿æ·   |  
| ç”µå•†å•†å“è¯¦æƒ…é¡µ      | å•†å“åŸºç¡€ä¿¡æ¯å±•ç¤ºï¼ˆä»·æ ¼ä¸å®šæœŸå˜æ›´ï¼‰| æè‡´çš„TTFBä¼˜åŒ–          |  
| è¥é”€è½åœ°é¡µ          | ä¼ä¸šå®˜ç½‘ã€æ´»åŠ¨é¡µ                  | æŠµå¾¡é«˜æµé‡å†²å‡»èƒ½åŠ›å¼º     |  

#### 2. **å†³ç­–æ ‘ï¼šä½•æ—¶é€‰æ‹©SSG**  
```mermaid  
graph LR  
A[æ˜¯å¦éœ€è¦åŠ¨æ€äº¤äº’] -->|å¦| B[å†…å®¹å˜æ›´é¢‘ç‡]  
A -->|æ˜¯| C[é‡‡ç”¨SSRæˆ–CSR]  
B -->|ä½é¢‘(æ—¥æ›´ä»¥å†…)| D[çº¯SSG]  
B -->|ä¸­é«˜é¢‘| E[SSG+ISR]  
B -->|å®æ—¶æ•°æ®| F[SSG+å®¢æˆ·ç«¯åŠ¨æ€è¯·æ±‚]  
```  

---

### â–æ€§èƒ½ä¼˜åŒ–å®è·µæŒ‡å—  
#### 1. **CDNåˆ†å‘ç­–ç•¥**  
```nginx  
# è‡ªå®šä¹‰ç¼“å­˜å¤´ç¤ºä¾‹ï¼ˆVercelé…ç½®ï¼‰  
{  
  "headers": [  
    {  
      "source": "/(.*).html",  
      "headers": [  
        {  
          "key": "Cache-Control",  
          "value": "public, max-age=31536000, immutable"  
        }  
      ]  
    }  
  ]  
}  
```  
**æ•ˆæœæŒ‡æ ‡**ï¼š  
- **Cacheå‘½ä¸­ç‡**ï¼šæå‡è‡³99%+  
- **å…¨çƒè®¿é—®å»¶è¿Ÿ**ï¼šç¨³å®šåœ¨30mså†…  

#### 2. **æŒ‰éœ€é¢„åŠ è½½èµ„æº**  
```html  
<!-- æå‰åŠ è½½å…³é”®èµ„æº -->  
<link rel="preload" href="/fonts/Inter.woff2" as="font" type="font/woff2" crossorigin>  
<link rel="preload" href="/js/chart.js" as="script">  

<!-- éæ ¸å¿ƒJSå»¶è¿ŸåŠ è½½ -->  
<script defer src="/analytics.js"></script>  
```

---

### â–æ··åˆæ¶æ„è¿›é˜¶æ–¹æ¡ˆ  
#### 1. **ISRï¼ˆå¢é‡é™æ€å†ç”Ÿï¼‰**  
![](https://nextjs.org/_next/image?url=%2Fdocs%2Flight%2Fisr.png&w=3840&q=75)  
- é¦–æ¬¡è®¿é—®ç”Ÿæˆé™æ€é¡µ â†’ åç»­è¯·æ±‚å¤ç”¨ç¼“å­˜  
- è®¾å®š`revalidate`å‘¨æœŸ â†’ åå°è‡ªåŠ¨æ›´æ–°è¿‡æœŸé¡µé¢  
```js  
// Next.js ISRé…ç½®  
export async function getStaticProps() {  
  return {  
    props: { data },  
    revalidate: 60 * 30 // æ¯30åˆ†é’Ÿé‡æ–°ç”Ÿæˆ  
  }  
}  
```

#### 2. **åˆ†å¸ƒå¼æ„å»ºä¼˜åŒ–ï¼ˆå¤§è§„æ¨¡ç«™ç‚¹ï¼‰**  
```bash  
# ä½¿ç”¨å¢é‡ç”Ÿæˆç­–ç•¥ï¼ˆ100ä¸‡é¡µé¢æ¡ˆä¾‹ï¼‰  
1. åŸºç¡€æ„å»ºï¼šä»…ç”Ÿæˆæ ¸å¿ƒé¡µé¢ï¼ˆé¦–é¡µ/åˆ†ç±»ï¼‰  
2. æŒ‰éœ€ç”Ÿæˆï¼šç”¨æˆ·é¦–æ¬¡è®¿é—®è§¦å‘é¡µé¢ç”Ÿæˆ  
3. è¾¹ç¼˜å­˜å‚¨ï¼šç”Ÿæˆçš„HTMLå­˜å…¥CDNèŠ‚ç‚¹  
```

---

### â–æŠ€æœ¯é€‰å‹å¯¹æ¯”  
| æ¡†æ¶          | æ ¸å¿ƒç‰¹æ€§                          | é€‚ç”¨è§„æ¨¡          |  
|---------------|-----------------------------------|-------------------|  
| Next.js       | ISRæ”¯æŒå®Œå–„ã€Reactç”Ÿæ€æ•´åˆ        | ä¸­å°å‹åˆ°è¶…å¤§è§„æ¨¡  |  
| Gatsby        | GraphQLæ•°æ®å±‚ã€æ’ä»¶ç”Ÿæ€ä¸°å¯Œ       | å†…å®¹å¯†é›†å‹ç½‘ç«™    |  
| Hugo          | æ„å»ºé€Ÿåº¦æå¿«ï¼ˆGoè¯­è¨€ï¼‰            | æŠ€æœ¯æ–‡æ¡£/åšå®¢     |  
| Astro         | æŒ‰éœ€Hydrationã€è½»é‡åŒ–             | å†…å®¹ç«™+è½»äº¤äº’     |  
| Nuxt.js       | Vueç”Ÿæ€é›†æˆã€SSGé…ç½®ç›´è§‚          | VueæŠ€æœ¯æ ˆé¡¹ç›®     |  

---

### â–å…¸å‹æ¡ˆä¾‹ï¼šç”µå•†äº§å“ç›®å½•SSGæ”¹é€   
#### 1. **åˆå§‹æ¶æ„é—®é¢˜**  
- åŠ¨æ€æ¸²æŸ“å¯¼è‡´é¦–å±å»¶è¿Ÿï¼š**2.4ç§’**  
- Googleçˆ¬è™«æ”¶å½•å•†å“é¡µæ¯”ä¾‹ï¼š**38%**  

#### 2. **ä¼˜åŒ–æ–¹æ¡ˆ**  
**æ­¥éª¤ä¸€ï¼šæ•°æ®åˆ†å±‚å¤„ç†**  
```js  
// å•†å“æ•°æ®åˆ†ç±»é¢„ç”Ÿæˆ  
const generatePaths = async () => {  
  const hotProducts = await getHotProducts(); // é«˜çƒ­åº¦å•†å“  
  const normalProducts = await getAllProducts();  

  return {  
    paths: [  
      ...hotProducts.map(p => `/product/${p.id}`),  // é¢„å…ˆç”Ÿæˆ  
      { params: { category: 'all' }, fallback: true }  
    ]  
  };  
};  
```

**æ­¥éª¤äºŒï¼šæ··åˆæ¸²æŸ“ç­–ç•¥**  
```html  
<!-- é™æ€éƒ¨åˆ† -->  
<div class="product-title">{{ title }}</div>  
<div class="product-images">{{ images }}</div>  

<!-- åŠ¨æ€ä»·æ ¼åŒºå—ï¼ˆCSRï¼‰ -->  
<client-only>  
  <price-counter :initialPrice="price" />  
</client-only>  
```

#### 3. **æˆæœæŒ‡æ ‡**  
| æŒ‡æ ‡              | ä¼˜åŒ–å‰ | ä¼˜åŒ–å     |  
|-------------------|--------|------------|  
| LCP               | 2.8s   | **0.6s**   |  
| æ„å»ºè€—æ—¶ï¼ˆä¸‡çº§é¡µé¢ï¼‰ | æ— æ³•å®Œæˆ | **23åˆ†é’Ÿ** |  
| SEOæ”¶å½•ç‡         | 38%    | **97%**    |  

---

### â–SSGæœªæ¥æ¼”è¿›æ–¹å‘  
1. **æ™ºèƒ½é¢„ç”Ÿæˆï¼ˆPredictive Pre-renderingï¼‰**  
   ```js  
   // æ ¹æ®ç”¨æˆ·è¡Œä¸ºé¢„æµ‹éœ€è¦ç”Ÿæˆçš„é¡µé¢  
   analytics.on('highClickRate', (path) => {  
     triggerBuild(path);  
   });  
   ```  
2. **è¾¹ç¼˜å®æ—¶ç”Ÿæˆï¼ˆEdge SSGï¼‰**  
   ```js  
   // Cloudflare Workerså®ç°è¾¹ç¼˜SSG  
   addEventListener('fetch', event => {  
     const html = generateHTML(event.request);  
     return new Response(html, { headers: { 'Content-Type': 'text/html' } });  
   });  
   ```  

---

**ä¼ä¸šçº§æœ€ä½³å®è·µæ¸…å•**ï¼š  
1. ä½¿ç”¨`<head>`ä¸­é¢„å®šä¹‰å…³é”®å…ƒæ•°æ®ï¼ˆJSON-LDç»“æ„åŒ–æ•°æ®ï¼‰  
2. å¯¹å›¾ç‰‡èµ„æºå®æ–½AVIF/WEBPæ ¼å¼è½¬æ¢  
3. éƒ¨ç½²Brotliå‹ç¼©ç®—æ³•ï¼ˆè¾ƒGzipæå‡15%å‹ç¼©ç‡ï¼‰  
4. å®æ–½è‡ªåŠ¨åŒ–æ­»é“¾æ£€æµ‹ï¼ˆæ¯æ—¥å®šæ—¶çˆ¬å–ç«™ç‚¹ï¼‰  
5. é€šè¿‡`<link rel="prerender">`é¢„æµ‹ä¸‹ä¸€é¡µå¯¼èˆª  

æœ€ç»ˆå»ºè®®ï¼šå¯¹äº80%ä»¥ä¸Šçš„å†…å®¹å‹åœºæ™¯ä¼˜å…ˆè€ƒè™‘SSGï¼Œä»…åœ¨éœ€è¦å®æ—¶è®¤è¯/ä¸ªæ€§åŒ–æ•°æ®çš„éƒ¨åˆ†å¼•å…¥SSRæˆ–CSRã€‚
